<?php
/**
 * Reval Creative Studio Theme Functions
 */

// Load WordPress stubs for IDE (development only)
// @phpstan-ignore-next-line
if (defined('WP_DEBUG') ) {
    // @phpstan-ignore-next-line
    if (file_exists(__DIR__ . '/wp-stubs.php')) {
        // @phpstan-ignore-next-line
        require_once __DIR__ . '/wp-stubs.php';
    }
}

// Enqueue styles and scripts
if (function_exists('add_action')) {
    function reval_enqueue_assets() {
        if (function_exists('wp_enqueue_style')) {
            wp_enqueue_style('reval-style', get_stylesheet_uri());
            wp_enqueue_style('reval-custom-styles', get_template_directory_uri() . '/styles.css', array(), '1.0.0');
            wp_enqueue_style('google-fonts', 'https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap');
        }
        if (function_exists('wp_enqueue_script')) {
            wp_enqueue_script('reval-custom-script', get_template_directory_uri() . '/script.js', array(), '1.0.0', true);
        }
    }
    add_action('wp_enqueue_scripts', 'reval_enqueue_assets');
}

// Add theme support
if (function_exists('add_action')) {
    function reval_theme_setup() {
        if (function_exists('add_theme_support')) {
            add_theme_support('post-thumbnails');
            add_theme_support('title-tag');
            add_theme_support('custom-logo', array(
                'height' => 100,
                'width' => 400,
                'flex-height' => true,
                'flex-width' => true,
            ));
        }
        if (function_exists('register_nav_menus')) {
            register_nav_menus(array(
                'primary' => __('Primary Menu', 'reval-creative'),
                'footer' => __('Footer Menu', 'reval-creative'),
            ));
        }
    }
    add_action('after_setup_theme', 'reval_theme_setup');
}

// Add custom body classes
if (function_exists('add_filter')) {
    function reval_body_classes($classes) {
        if (function_exists('is_front_page') && is_front_page()) {
            $classes[] = 'is-home';
        }
        return $classes;
    }
    add_filter('body_class', 'reval_body_classes');
    add_filter('show_admin_bar', '__return_false');
}
